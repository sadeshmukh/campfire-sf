---
const eventId = "recLpjWD0ooEKPmnb";
---

<section class="hero">
  <img src="/media/cloudupleft.svg" alt="" class="cloud-top-left" aria-hidden="true" />
  <img src="/media/astronaut.svg" alt="" class="astronaut" aria-hidden="true" />

  <div class="clouds">
    <img src="/media/cloudwhite.svg" alt="" class="cloud cloud-white" aria-hidden="true" />
    <img src="/media/cloudorange.svg" alt="" class="cloud cloud-orange" aria-hidden="true" />
  </div>

  <div class="hero-content">
    <div class="top-logos">
      <a href="https://hackclub.com" target="_blank" rel="noopener">
        <img src="/media/hcflag.svg" alt="Hack Club" class="top-logo" />
      </a>
      <span class="divider" style="user-select: none;">|</span>
      <a href="https://opensauce.com" target="_blank" rel="noopener">
        <img src="/media/opensauce.svg" alt="Open Sauce" class="top-logo" />
      </a>
    </div>

    <div class="main-content">
      <div class="title-row">
        <img src="/media/sflogosmall.svg" alt="SF" class="sf-logo" />
        <img src="/media/campfiretext.svg" alt="CAMPFIRE" class="title-img" />
      </div>
      <h1 class="subtitle">San Francisco</h1>
      <p class="date">Feb 28 - Mar 1, 2026</p>
      <p class="tagline">24 hour game jam</p>
      <div class="rsvp-form">
        <input type="email" id="emailInput" placeholder="your@email.com" class="email-input" required />
        <button type="button" id="rsvpBtn" class="rsvp-btn">RSVP</button>
      </div>
      <a class="slack-btn" id="slackBtn">Join the Slack</a>
    </div>
  </div>

  <div class="grass-container">
    <img src="/media/grass.svg" alt="" class="grass" aria-hidden="true" />
  </div>

  <img src="/media/campfire.svg" alt="" class="campfire-corner" aria-hidden="true" />
</section>

<script define:vars={{ eventId }}>
  const emailInput = document.getElementById("emailInput");
  const rsvpBtn = document.getElementById("rsvpBtn");

  rsvpBtn?.addEventListener("click", () => {
    const email = emailInput?.value?.trim();
    if (!email) {
      emailInput?.focus();
      return;
    }
    const encodedEmail = encodeURIComponent(email);
    const url = `https://forms.hackclub.com/campfire-signup?email=${encodedEmail}&event=${eventId}`;
    window.open(url, "_blank");
  });

  emailInput?.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      rsvpBtn?.click();
    }
  });

  document.getElementById("slackBtn")?.addEventListener("click", () => {
    setTimeout(() => {
      window.location.href = "/slack";
    }, 100);
  });
</script>

<style>
  .hero {
    position: relative;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    background-color: var(--fishbowl);
  }

  .clouds {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
  }

  .cloud {
    position: absolute;
    will-change: transform;
  }

  .cloud-white {
    bottom: -20%;
    left: 0;
    width: 110%;
    max-width: none;
    transform: translateX(-15%);
  }

  .cloud-orange {
    bottom: -20%;
    right: 0;
    width: 110%;
    max-width: none;
    transform: translateX(25%);
  }

  .cloud-top-left {
    position: absolute;
    top: -5%;
    left: -5%;
    width: 35%;
    max-width: 400px;
    z-index: 2;
    pointer-events: none;
  }

  .astronaut {
    position: absolute;
    top: 100px;
    right: 80px;
    width: 120px;
    height: auto;
    transform: scale(2) rotate(-10deg);
    z-index: 20;
    filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.25));
    pointer-events: none;
  }

  .hero-content {
    position: relative;
    z-index: 15;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 2rem;
    padding-bottom: 200px;
  }

  .top-logos {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .top-logo {
    height: 40px;
    width: auto;
    filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
  }

  .divider {
    font-size: 2rem;
    color: var(--cream);
    opacity: 0.6;
  }

  .main-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }

  .title-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .sf-logo {
    height: 70px;
    width: auto;
    filter: drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.15));
    flex-shrink: 0;
  }

  .title-img {
    height: 55px;
    width: auto;
    filter: drop-shadow(3px 3px 0 rgba(0, 0, 0, 0.1));
  }

  .subtitle {
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(2rem, 6vw, 3.5rem);
    color: var(--cream);
    margin-top: 0.25rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);
  }

  .date {
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    color: var(--cream);
    margin-top: 1rem;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
  }

  .tagline {
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1rem, 2.5vw, 1.4rem);
    color: var(--cream);
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
  }

  .rsvp-form {
    display: flex;
    gap: 0.75rem;
    margin-top: 1.5rem;
    width: 100%;
    max-width: 420px;
  }

  .email-input {
    flex: 1;
    padding: 1rem 1.25rem;
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1rem, 2vw, 1.2rem);
    border: none;
    border-radius: 12px;
    background-color: var(--cream);
    color: var(--smores);
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.1),
      0 4px 0 rgba(0, 0, 0, 0.1);
    outline: none;
    min-width: 0;
  }

  .email-input::placeholder {
    color: var(--smores);
    opacity: 0.5;
  }

  .email-input:focus {
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.1),
      0 4px 0 rgba(0, 0, 0, 0.1),
      0 0 0 3px var(--orangesicle);
  }

  .rsvp-btn {
    padding: 1rem 2rem;
    background-color: var(--orangesicle);
    color: var(--cream);
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1.1rem, 2.5vw, 1.4rem);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    box-shadow:
      0 4px 0 var(--smores),
      0 6px 12px rgba(0, 0, 0, 0.2);
    transition:
      transform 0.15s ease,
      box-shadow 0.15s ease;
    white-space: nowrap;
  }

  .rsvp-btn:hover {
    transform: translateY(-2px);
    box-shadow:
      0 6px 0 var(--smores),
      0 8px 16px rgba(0, 0, 0, 0.25);
  }

  .rsvp-btn:active {
    transform: translateY(2px);
    box-shadow:
      0 2px 0 var(--smores),
      0 4px 8px rgba(0, 0, 0, 0.2);
  }

  .slack-btn {
    margin-top: 1rem;
    padding: 0.75rem 2rem;
    background-color: transparent;
    color: var(--cream);
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1rem, 2vw, 1.2rem);
    border: 2px solid var(--cream);
    border-radius: 12px;
    cursor: pointer;
    transition:
      background-color 0.15s ease,
      transform 0.15s ease;
    text-decoration: none;
  }

  .slack-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
  }

  .grass-container {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    z-index: 10;
    pointer-events: none;
  }

  .grass {
    width: 100%;
    height: auto;
    display: block;
  }

  .campfire-corner {
    position: absolute;
    bottom: 20px;
    right: 20px;
    width: 120px;
    height: auto;
    z-index: 20;
    filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.25));
    pointer-events: none;
  }

  @media (max-width: 768px) {
    .top-logo {
      height: 30px;
    }

    .sf-logo {
      height: 45px;
    }

    .title-img {
      height: 35px;
    }

    .title-row {
      gap: 0.5rem;
    }

    .hero-content {
      padding-bottom: 120px;
    }

    .rsvp-form {
      flex-direction: column;
      max-width: 300px;
    }

    .rsvp-btn {
      padding: 0.9rem 2rem;
      width: 100%;
    }

    .email-input {
      text-align: center;
    }

    .campfire-corner {
      width: 80px;
      bottom: 15px;
      right: 15px;
    }

    .clouds {
      display: none;
    }

    .cloud-top-left {
      width: 50%;
      top: -3%;
      left: -10%;
    }

    .astronaut {
      width: 70px;
      top: 15px;
      right: 15px;
    }
  }
</style>
