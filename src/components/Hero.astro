---
const eventId = "recLpjWD0ooEKPmnb";
---

<section class="hero">
  <div class="hero-bg-blue"></div>
  <div class="hero-bg-shine"></div>

  <img src="/media/fish 1.svg" alt="" class="fish fish-1" aria-hidden="true" />
  <img src="/media/fish 2.svg" alt="" class="fish fish-2" aria-hidden="true" />

  <div class="hero-content">
    <div class="top-logos">
      <a href="https://hackclub.com" target="_blank" rel="noopener" class="logo-link">
        <img src="/media/hcflag.svg" alt="Hack Club" class="top-logo" />
      </a>
      <div class="divider"></div>
      <a href="https://opensauce.com" target="_blank" rel="noopener" class="logo-link">
        <img src="/media/opensauce.svg" alt="Open Sauce" class="top-logo opensauce-logo" />
      </a>
    </div>

    <div class="main-content">
      <div class="title-section">
        <div class="logo-row">
          <img src="/media/sflogosmall.svg" alt="San Francisco" class="sf-logo-circle" />
          <img src="/media/campfiretext.svg" alt="Campfire" class="campfire-logo-text" />
        </div>
        <h2 class="city-title">SAN FRANCISCO</h2>
      </div>
      <p class="date">Feb 28 - Mar 1, 2026</p>
      <p class="tagline">24 hour game jam</p>

      <div class="rsvp-section">
        <div class="email-box">
          <img src="/icons/email.svg" alt="" class="email-icon" />
          <input type="email" id="emailInput" placeholder="you@hackclub.com" class="email-input" required />
        </div>
        <button type="button" id="rsvpBtn" class="rsvp-btn">SIGN&nbsp;UP!</button>
      </div>

      <a class="slack-btn" id="slackBtn">Join the Slack</a>
    </div>
  </div>

  <div class="grass-container">
    <img src="/backgrounds/landing-grass.png" alt="" class="grass" aria-hidden="true" />
  </div>

  <img src="/media/campfire.svg" alt="" class="campfire-corner" aria-hidden="true" />
</section>

<script define:vars={{ eventId }}>
  const emailInput = document.getElementById("emailInput");
  const rsvpBtn = document.getElementById("rsvpBtn");

  rsvpBtn?.addEventListener("click", () => {
    const email = emailInput?.value?.trim();
    if (!email) {
      emailInput?.focus();
      return;
    }
    const encodedEmail = encodeURIComponent(email);
    const url = `https://forms.hackclub.com/campfire-signup?email=${encodedEmail}&event=${eventId}&r=89`;
    window.open(url, "_blank");
  });

  emailInput?.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      rsvpBtn?.click();
    }
  });

  document.getElementById("slackBtn")?.addEventListener("click", () => {
    setTimeout(() => {
      window.location.href = "/slack";
    }, 100);
  });
</script>

<style>
  .hero {
    position: relative;
    min-height: 100vh;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  /* Dual background layers like original Campfire */
  .hero-bg-blue {
    position: absolute;
    inset: 0;
    background: url("/backgrounds/blue-sky.webp") center top / cover no-repeat;
    z-index: 0;
  }

  .hero-bg-shine {
    position: absolute;
    inset: 0;
    background: url("/backgrounds/sky-shine.webp") center top / cover no-repeat;
    z-index: 1;
    opacity: 0.7;
    mix-blend-mode: screen;
  }

  /* Fish decorations - subtle, not animated */
  .fish {
    position: absolute;
    z-index: 5;
    pointer-events: none;
    opacity: 0.85;
  }

  .fish-1 {
    top: 15%;
    left: 8%;
    width: 60px;
    transform: rotate(-15deg);
  }

  .fish-2 {
    top: 25%;
    right: 10%;
    width: 50px;
    transform: rotate(20deg) scaleX(-1);
  }

  .hero-content {
    position: relative;
    z-index: 15;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1.5rem;
    padding-top: 80px;
    padding-bottom: 160px;
    width: 100%;
    max-width: 700px;
  }

  .top-logos {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
  }

  .logo-link {
    display: flex;
    align-items: center;
    transition: transform 0.2s ease;
  }

  .logo-link:hover {
    transform: scale(1.05);
  }

  .top-logo {
    height: 32px;
    width: auto;
    filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
  }

  .opensauce-logo {
    height: 28px;
  }

  .divider {
    width: 2px;
    height: 24px;
    background: var(--cream);
    opacity: 0.4;
    border-radius: 1px;
  }

  .main-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }

  .title-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }

  .logo-row {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .sf-logo-circle {
    height: clamp(60px, 15vw, 120px);
    width: auto;
    filter: drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.15));
    flex-shrink: 0;
  }

  .campfire-logo-text {
    height: clamp(50px, 12vw, 100px);
    width: auto;
    filter: drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.15));
  }

  .city-title {
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1.2rem, 4vw, 2rem);
    color: var(--cream);
    margin: 0;
    margin-top: 0.25rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);
    letter-spacing: 0.2em;
  }

  .date {
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1rem, 3vw, 1.6rem);
    color: var(--cream);
    margin-top: 1rem;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
  }

  .tagline {
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(0.9rem, 2.5vw, 1.3rem);
    color: var(--cream);
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
    opacity: 0.9;
  }

  .rsvp-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 2rem;
    align-items: center;
    width: 100%;
  }

  .email-box {
    background-color: #f9e2ca;
    border: 4px solid #d5a16c;
    border-radius: 20px;
    padding: 0.75rem 1.25rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
    width: 100%;
    max-width: 320px;
  }

  .email-icon {
    width: 28px;
    height: 28px;
    flex-shrink: 0;
    opacity: 0.7;
  }

  .email-input {
    flex: 1;
    font-family: "Dreamplanner", sans-serif;
    font-size: 1.1rem;
    font-weight: 700;
    color: #854d16;
    background: transparent;
    border: none;
    outline: none;
    min-width: 0;
  }

  .email-input::placeholder {
    color: #854d16;
    opacity: 0.5;
  }

  .rsvp-btn {
    background-color: #fca147;
    border: 5px solid rgba(0, 0, 0, 0.2);
    border-radius: 20px;
    padding: 0.75rem 2.5rem;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
    cursor: pointer;
    transition:
      transform 0.15s ease,
      box-shadow 0.15s ease;
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1.5rem, 4vw, 2rem);
    color: #8d3f34;
    text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.3);
    white-space: nowrap;
  }

  .rsvp-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
  }

  .rsvp-btn:active {
    transform: translateY(1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }

  .slack-btn {
    margin-top: 1rem;
    padding: 0.65rem 1.75rem;
    background-color: rgba(255, 255, 255, 0.15);
    color: var(--cream);
    font-family: "Dreamplanner", sans-serif;
    font-size: clamp(1rem, 2vw, 1.15rem);
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 14px;
    cursor: pointer;
    transition:
      background-color 0.15s ease,
      transform 0.15s ease;
    text-decoration: none;
    backdrop-filter: blur(4px);
  }

  .slack-btn:hover {
    background-color: rgba(255, 255, 255, 0.25);
    transform: translateY(-1px);
  }

  .grass-container {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    z-index: 10;
    pointer-events: none;
  }

  .grass {
    width: 100%;
    height: auto;
    display: block;
  }

  .campfire-corner {
    position: absolute;
    bottom: 20px;
    right: 20px;
    width: 70px;
    height: auto;
    z-index: 20;
    filter: drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.3));
    pointer-events: none;
  }

  /* Tablet and up */
  @media (min-width: 600px) {
    .hero-content {
      padding-top: 100px;
      padding-bottom: 200px;
    }

    .top-logos {
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .top-logo {
      height: 40px;
    }

    .opensauce-logo {
      height: 34px;
    }

    .divider {
      height: 30px;
    }

    .fish-1 {
      width: 80px;
      top: 12%;
      left: 10%;
    }

    .fish-2 {
      width: 70px;
      top: 20%;
      right: 12%;
    }

    .rsvp-section {
      flex-direction: row;
      gap: 1.25rem;
    }

    .logo-row {
      gap: 1.5rem;
    }

    .sf-logo-circle {
      height: clamp(80px, 15vw, 140px);
    }

    .campfire-logo-text {
      height: clamp(70px, 12vw, 120px);
    }

    .email-box {
      max-width: 340px;
      padding: 1rem 1.5rem;
      gap: 1rem;
    }

    .email-icon {
      width: 32px;
      height: 32px;
    }

    .email-input {
      font-size: 1.25rem;
    }

    .rsvp-btn {
      padding: 1rem 3rem;
    }

    .campfire-corner {
      width: 90px;
      bottom: 30px;
      right: 30px;
    }
  }

  /* Desktop */
  @media (min-width: 900px) {
    .logo-row {
      gap: 2rem;
    }

    .sf-logo-circle {
      height: clamp(100px, 15vw, 160px);
    }

    .campfire-logo-text {
      height: clamp(90px, 12vw, 140px);
    }

    .fish-1 {
      width: 100px;
      top: 15%;
      left: 12%;
    }

    .fish-2 {
      width: 85px;
      top: 22%;
      right: 14%;
    }

    .email-box {
      max-width: 380px;
      padding: 1rem 2rem;
    }

    .email-input {
      font-size: 1.4rem;
    }

    .rsvp-btn {
      font-size: 2.2rem;
      padding: 1rem 3.5rem;
    }

    .campfire-corner {
      width: 110px;
      bottom: 40px;
      right: 50px;
    }
  }
</style>
